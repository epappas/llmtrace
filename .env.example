# ============================================================================
# LLMTrace â€” Environment Configuration
# ============================================================================
#
# Copy this file:  cp .env.example .env
# Then:            docker compose up -d && source .env
#
# These variables configure both Docker Compose services AND the LLMTrace proxy.
# ============================================================================

# ---------------------------------------------------------------------------
# Storage Profile
# ---------------------------------------------------------------------------
# "lite" = SQLite (zero infra, just run the binary)
# "memory" = in-memory (tests, ephemeral)
# "production" = ClickHouse + PostgreSQL + Redis (docker compose up)
LLMTRACE_STORAGE_PROFILE=production

# ---------------------------------------------------------------------------
# ClickHouse (trace/span analytical storage)
# ---------------------------------------------------------------------------
CLICKHOUSE_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DATABASE=llmtrace
LLMTRACE_CLICKHOUSE_URL=http://localhost:8123
LLMTRACE_CLICKHOUSE_DATABASE=llmtrace

# ---------------------------------------------------------------------------
# PostgreSQL (tenant metadata, configs, audit trail)
# ---------------------------------------------------------------------------
POSTGRES_PORT=5432
POSTGRES_USER=llmtrace
POSTGRES_PASSWORD=llmtrace
POSTGRES_DB=llmtrace
LLMTRACE_POSTGRES_URL=postgres://llmtrace:llmtrace@localhost:5432/llmtrace

# ---------------------------------------------------------------------------
# Redis (cache, cost tracking, sessions)
# ---------------------------------------------------------------------------
REDIS_PORT=6379
LLMTRACE_REDIS_URL=redis://127.0.0.1:6379

# ---------------------------------------------------------------------------
# Proxy
# ---------------------------------------------------------------------------
LLMTRACE_LISTEN_ADDR=0.0.0.0:8080
LLMTRACE_UPSTREAM_URL=https://api.openai.com

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------
LLMTRACE_LOG_LEVEL=info
LLMTRACE_LOG_FORMAT=text
# Fine-grained: RUST_LOG=llmtrace_proxy=debug,info

# ---------------------------------------------------------------------------
# SQLite (only used when LLMTRACE_STORAGE_PROFILE=lite)
# ---------------------------------------------------------------------------
LLMTRACE_STORAGE_DATABASE_PATH=llmtrace.db
